{"remainingRequest":"C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\src\\router\\index.js","mtime":1605881750533},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Vue\\ProjetS3\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBIb21lIGZyb20gIi4uL3ZpZXdzL0hvbWUudnVlIjsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiL2hvbWUiLAogIG5hbWU6ICJob21lIiwKICBjb21wb25lbnQ6IEhvbWUsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJsb2dpbiIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9sb2dpbi52dWUiKTsKICB9Cn0sIHsKICBwYXRoOiAiL3JlZ2lzdGVyIiwKICBuYW1lOiAicmVnaXN0ZXIiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvcmVnaXN0ZXIudnVlIik7CiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoOwogIH0pKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpID09IG51bGwpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogIi8iCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/clemf/Documents/Prog/Vue/ProjetS3/client/src/router/index.js"],"names":["Vue","VueRouter","Home","use","routes","path","name","component","meta","requiresAuth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","localStorage","getItem"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEL,IAHb;AAIEM,EAAAA,IAAI,EAAE;AACJC,IAAAA,YAAY,EAAE;AADV;AAJR,CADa,EASb;AACEJ,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHb,CATa,EAcb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA;AAHb,CAda,CAAf;AAqBA,IAAMG,MAAM,GAAG,IAAIT,SAAJ,CAAc;AAC3BU,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BX,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAM,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACd,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAAJ,EAAyD;AACvD,QAAIc,YAAY,CAACC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAyC;AACvCL,MAAAA,IAAI,CAAC;AACHd,QAAAA,IAAI,EAAE;AADH,OAAD,CAAJ;AAGD,KAJD,MAIO;AACLc,MAAAA,IAAI;AACL;AACF,GARD,MAQO;AACLA,IAAAA,IAAI;AACL;AACF,CAZD;AAcA,eAAeT,MAAf","sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport Home from \"../views/Home.vue\";\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/home\",\r\n    name: \"home\",\r\n    component: Home,\r\n    meta: {\r\n      requiresAuth: true\r\n    }\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"login\",\r\n    component: () => import(\"../views/login.vue\")\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    name: \"register\",\r\n    component: () => import(\"../views/register.vue\")\r\n  }\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  base: process.env.BASE_URL,\r\n  routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    if (localStorage.getItem(\"jwt\") == null) {\r\n      next({\r\n        path: \"/\"\r\n      });\r\n    } else {\r\n      next();\r\n    }\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"]}]}