{"remainingRequest":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\src\\views\\AdminUsers.vue?vue&type=style&index=0&id=412a3d9a&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\src\\views\\AdminUsers.vue","mtime":1617021576726},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":1612791998407},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1612792006690},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":1612792002627},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1612792004824},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612791996876},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1612792006689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAiQC9WYXJpYWJsZS5zY3NzIjsNCiNhcHAgew0KICAjYm9keSB7DQogICAgbWFyZ2luOiA3dmggMCAwIDA7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgaGVpZ2h0OiA4MHZoOw0KICAgICNyZWNoZXJjaGUgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgIC50aXRsZSB7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIG1hcmdpbjogMCAwIDMwcHg7DQogICAgICAgIHAgew0KICAgICAgICAgIGZvbnQtc2l6ZTogNDBweDsNCiAgICAgICAgfQ0KICAgICAgICAubGluZSB7DQogICAgICAgICAgd2lkdGg6IDIwMHB4Ow0KICAgICAgICB9DQogICAgICB9DQogICAgICAjcmVjaGVyY2hlX3BhciB7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogY2VudGVyOw0KICAgICAgICBwIHsNCiAgICAgICAgICBtYXJnaW46IDA7DQogICAgICAgIH0NCiAgICAgICAgLmlucHV0IHsNCiAgICAgICAgICBtYXJnaW46IDAgMTBweDsNCiAgICAgICAgICBsYWJlbCB7DQogICAgICAgICAgICBtYXJnaW46IGF1dG8gMDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaW5wdXQgew0KICAgICAgICAgIHBhZGRpbmc6IDNweCA2cHg7DQogICAgICAgICAgb3V0bGluZTogbm9uZTsNCiAgICAgICAgICBib3JkZXI6IDJweCAkY29sb3Igc29saWQ7DQogICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgIG1hcmdpbjogMCAxNXB4Ow0KICAgICAgICB9DQogICAgICB9DQogICAgICAgIGJ1dHRvbiB7DQogICAgICAgICAgDQogICAgICAgICAgbWFyZ2luOiAyMHB4IGF1dG8gMDsNCiAgICAgICAgfQ0KICAgICAgICBpbnB1dFt0eXBlPSJyYWRpbyJdIHsNCiAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICB9DQogICAgICAgIGxhYmVsIHsNCiAgICAgICAgICBib3JkZXI6IDJweCAkY29sb3Igc29saWQ7DQogICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgIHBhZGRpbmc6IDNweCA2cHg7DQogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgICAgY29sb3I6ICRjb2xvcjM7DQogICAgICAgICAgJjpob3ZlciwNCiAgICAgICAgICAuY2hlY2tlZCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7DQogICAgICAgICAgICBjb2xvcjogJGNvbG9yMjsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIA0KICAgIH0NCiAgICBkaXYgdGFibGUgew0KICAgICAgd2lkdGg6IDkwdnc7DQogICAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgJGNvbG9yOw0KICAgIH0NCiAgICAuaGVhZCB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjZmMTkxYTA7DQogICAgICB0ciB7DQogICAgICAgIHRoIHsNCiAgICAgICAgICBwYWRkaW5nOiAxdmggMXZ3Ow0KICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsNCiAgICAgICAgICBmb250LXNpemU6IDEuMnZ3Ow0KICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICAuYm9keSB7DQogICAgICBoZWlnaHQ6IDcwdmg7DQogICAgICBvdmVyZmxvdy15OiBzY3JvbGw7DQogICAgICBvdmVyZmxvdy14OiBoaWRkZW47DQogICAgICB3aWR0aDogODkuOXZ3Ow0KICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgdHIgew0KICAgICAgICB0ZCB7DQogICAgICAgICAgcGFkZGluZzogMXZoIDF2dzsNCiAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDsNCiAgICAgICAgICBmb250LXNpemU6IDEuMnZ3Ow0KICAgICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCBncmF5Ow0KICAgICAgICB9DQogICAgICAgIC5wb2ludGVyIHsNCiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg0KOjotd2Via2l0LXNjcm9sbGJhciB7DQogIHdpZHRoOiA2cHg7DQp9DQo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgMXZ3IHJnYmEoMCwgMCwgMCwgMC4zKTsNCn0NCjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCAxdncgIzI2ZjE5MWM1Ow0KfQ0KLmNoZWNrZWQgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7DQogIGNvbG9yOiAkY29sb3IyICFpbXBvcnRhbnQgOw0KfQ0K"},{"version":3,"sources":["AdminUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminUsers.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <Header />\r\n    <div id=\"body\">\r\n      <div id=\"recherche\">\r\n        <div class=\"title\">\r\n          <p>Liste des membres</p>\r\n          <div class=\"line\"></div>\r\n        </div>\r\n        <div id=\"recherche_par\">\r\n          <p>Recherche :</p>\r\n          <input type=\"text\" placeholder=\"Nom\" v-model=\"name\" />\r\n\r\n          <div class=\"input\" @click=\"recherche = 1\">\r\n            <input type=\"radio\" name=\"choixRechercheNom\" />\r\n            <label\r\n              for=\"choixRechercheNom\"\r\n              class=\"radio\"\r\n              :class=\"{ checked: recherche === 1 }\"\r\n              >Nom</label\r\n            >\r\n          </div>\r\n          <div class=\"input\" @click=\"recherche = 2\">\r\n            <input type=\"radio\" name=\"choixRecherchePrenom\" />\r\n            <label\r\n              for=\"choixRecherchePrenom\"\r\n              class=\"radio\"\r\n              :class=\"{ checked: recherche === 2 }\"\r\n              >Prénom</label\r\n            >\r\n          </div>\r\n          <div class=\"input\" @click=\"recherche = 3\">\r\n            <input type=\"radio\" name=\"choixRechercheEmail\" />\r\n            <label\r\n              for=\"choixRechercheEmail\"\r\n              class=\"radio\"\r\n              :class=\"{ checked: recherche === 3 }\"\r\n              >Email</label\r\n            >\r\n          </div>\r\n        </div>\r\n        <button\r\n          class=\"button\"\r\n          @click=\"changeList\"\r\n          v-if=\"this.listeEntiereUsersTri !== this.listeEntiereUsers\"\r\n        >\r\n          Afficher tous les membres\r\n        </button>\r\n        <button class=\"button\" @click=\"changeList\" v-else>\r\n          Cacher les membres validés\r\n        </button>\r\n      </div>\r\n      <div class=\"head\">\r\n        <table>\r\n          <tr>\r\n            <th\r\n              @click=\"\r\n                valideFunction();\r\n                tri(1);\r\n              \"\r\n            >\r\n              Validé\r\n            </th>\r\n            <th\r\n              @click=\"\r\n                valideFunction();\r\n                tri(2);\r\n              \"\r\n            >\r\n              Nom\r\n            </th>\r\n            <th\r\n              @click=\"\r\n                valideFunction();\r\n                tri(3);\r\n              \"\r\n            >\r\n              Prénom\r\n            </th>\r\n            <th\r\n              @click=\"\r\n                valideFunction();\r\n                tri(4);\r\n              \"\r\n            >\r\n              Email\r\n            </th>\r\n            <th>Statut</th>\r\n            <th>Supprimer</th>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class=\"body\">\r\n        <table>\r\n          <tr v-for=\"user in filteredList\" :key=\"user.email\">\r\n            <td v-if=\"user.valide\" @click=\"changerValide(user)\" class=\"pointer\">\r\n              <font-awesome-icon icon=\"check\" />\r\n            </td>\r\n            <td v-if=\"!user.valide\" @click=\"changerValide(user)\">\r\n              <font-awesome-icon icon=\"times\" />\r\n            </td>\r\n            <td>{{ user.nom }}</td>\r\n            <td>{{ user.prenom }}</td>\r\n            <td>{{ user.email }}</td>\r\n            <td>{{ user.statut }}</td>\r\n            <td @click=\"deleteUser(user)\" class=\"pointer\">\r\n              <font-awesome-icon icon=\"times\" />\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from \"../components/header\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      listeEntiereUsers: [],\r\n      listeEntiereUsersTri: [],\r\n      valide: 1,\r\n      valeurTri: -1,\r\n      recherche: 1,\r\n      name: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    Header,\r\n  },\r\n  methods: {\r\n    valideFunction() {\r\n      if (this.valide === 1) {\r\n        this.valide = -1;\r\n      } else {\r\n        this.valide = 1;\r\n      }\r\n    },\r\n    /**\r\n     * Change la validité de l'utilisateur\r\n     */\r\n    async changerValide(user) {\r\n      try {\r\n        user.valide = !user.valide;\r\n        await this.$http.put(`/user/valide`, user);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    /**\r\n     * Supprime l'utilisateur\r\n     */\r\n    async deleteUser(user) {\r\n      try {\r\n        await this.$http.post(`/user/delete`, user);\r\n        this.getInfoUser();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    /**\r\n     * @returns La liste de tous les utilisateurs depuis la BDD\r\n     */\r\n    async getAllUsers() {\r\n      const data = await this.$http.get(`/user/users`);\r\n      data.data.users.forEach((user) => {\r\n        this.listeEntiereUsers.push(user);\r\n      });\r\n      this.listeEntiereUsersTri = this.listeEntiereUsers.filter((user) => {\r\n        if (user.valide === false) {\r\n          return user;\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * Change soit vers la liste entière des membres soit vers la liste des membres non validé\r\n     */\r\n    changeList() {\r\n      if (this.listeEntiereUsersTri === this.listeEntiereUsers) {\r\n        this.listeEntiereUsersTri = this.listeEntiereUsers.filter((user) => {\r\n          if (user.valide === false) {\r\n            return user;\r\n          }\r\n        });\r\n      } else {\r\n        this.listeEntiereUsersTri = this.listeEntiereUsers;\r\n      }\r\n    },\r\n    /**\r\n     * @param Valeur Diffère selon choix utilisateur\r\n     */\r\n    async tri(valeur) {\r\n      switch (valeur) {\r\n        case 1:\r\n          if (this.valide === 1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.valide < b.valide ? 1 : -1\r\n            );\r\n          } else if (this.valide === -1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.valide > b.valide ? 1 : -1\r\n            );\r\n          }\r\n          break;\r\n        case 2:\r\n          if (this.valide === 1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.nom < b.nom ? 1 : -1\r\n            );\r\n          } else if (this.valide === -1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.nom > b.nom ? 1 : -1\r\n            );\r\n          }\r\n          break;\r\n        case 3:\r\n          if (this.valide === 1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.prenom < b.prenom ? 1 : -1\r\n            );\r\n          } else if (this.valide === -1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.prenom > b.prenom ? 1 : -1\r\n            );\r\n          }\r\n          break;\r\n        case 4:\r\n          if (this.valide === 1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.email < b.email ? 1 : -1\r\n            );\r\n          } else if (this.valide === -1) {\r\n            this.listeEntiereUsersTri = this.listeEntiereUsersTri.sort((a, b) =>\r\n              a.email > b.email ? 1 : -1\r\n            );\r\n          }\r\n          break;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getAllUsers();\r\n  },\r\n  computed: {\r\n    filteredList() {\r\n      return this.listeEntiereUsersTri.filter((user) => {\r\n        if (this.recherche === 1) {\r\n          return user.nom.toLowerCase().includes(this.name.toLowerCase());\r\n        } else if (this.recherche === 2) {\r\n          return user.prenom.toLowerCase().includes(this.name.toLowerCase());\r\n        } else if (this.recherche === 3) {\r\n          return user.email.toLowerCase().includes(this.name.toLowerCase());\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/Variable.scss\";\r\n#app {\r\n  #body {\r\n    margin: 7vh 0 0 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    height: 80vh;\r\n    #recherche {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      margin-bottom: 10px;\r\n      .title {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        margin: 0 0 30px;\r\n        p {\r\n          font-size: 40px;\r\n        }\r\n        .line {\r\n          width: 200px;\r\n        }\r\n      }\r\n      #recherche_par {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        margin-top: 20px;\r\n        vertical-align: center;\r\n        p {\r\n          margin: 0;\r\n        }\r\n        .input {\r\n          margin: 0 10px;\r\n          label {\r\n            margin: auto 0;\r\n          }\r\n        }\r\n        input {\r\n          padding: 3px 6px;\r\n          outline: none;\r\n          border: 2px $color solid;\r\n          border-radius: 5px;\r\n          margin: 0 15px;\r\n        }\r\n      }\r\n        button {\r\n          \r\n          margin: 20px auto 0;\r\n        }\r\n        input[type=\"radio\"] {\r\n          display: none;\r\n        }\r\n        label {\r\n          border: 2px $color solid;\r\n          border-radius: 5px;\r\n          padding: 3px 6px;\r\n          cursor: pointer;\r\n          font-weight: 700;\r\n          color: $color3;\r\n          &:hover,\r\n          .checked {\r\n            background-color: $color;\r\n            color: $color2;\r\n          }\r\n        }\r\n      \r\n    }\r\n    div table {\r\n      width: 90vw;\r\n      table-layout: fixed;\r\n      border: 1px solid $color;\r\n    }\r\n    .head {\r\n      background-color: #26f191a0;\r\n      tr {\r\n        th {\r\n          padding: 1vh 1vw;\r\n          text-align: left;\r\n          font-weight: 700;\r\n          font-size: 1.2vw;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n    .body {\r\n      height: 70vh;\r\n      overflow-y: scroll;\r\n      overflow-x: hidden;\r\n      width: 89.9vw;\r\n      border: none;\r\n      tr {\r\n        td {\r\n          padding: 1vh 1vw;\r\n          text-align: left;\r\n          vertical-align: middle;\r\n          font-weight: 300;\r\n          font-size: 1.2vw;\r\n          border-bottom: 3px solid gray;\r\n        }\r\n        .pointer {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n::-webkit-scrollbar-track {\r\n  -webkit-box-shadow: inset 0 0 1vw rgba(0, 0, 0, 0.3);\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  -webkit-box-shadow: inset 0 0 1vw #26f191c5;\r\n}\r\n.checked {\r\n  background-color: $color;\r\n  color: $color2 !important ;\r\n}\r\n</style>"]}]}