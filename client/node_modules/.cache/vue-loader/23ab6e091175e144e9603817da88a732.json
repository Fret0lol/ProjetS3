{"remainingRequest":"/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/src/views/AdminUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/src/views/AdminUsers.vue","mtime":1612117810272},{"path":"/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/node_modules/cache-loader/dist/cjs.js","mtime":1612117585820},{"path":"/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/node_modules/babel-loader/lib/index.js","mtime":1612117580510},{"path":"/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/node_modules/cache-loader/dist/cjs.js","mtime":1612117585820},{"path":"/mnt/c/Users/thoma/OneDrive/Bureau/iut/projet_S3/client/node_modules/vue-loader/lib/index.js","mtime":1612117788453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9oZWFkZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2Vyczoge30sCiAgICAgIG9mZnNldDogMCwKICAgICAgdmFsaWRlOiAxLAogICAgICBub206IDEsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0SW5mb1VzZXIoKSB7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LAogICAgICAgIGxpbWl0OiA1MCwKICAgICAgICBzb3J0OiAiIiwKICAgICAgfTsKICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGAvdXNlci91c2Vycy9wYXJhbXNgLCB7IHBhcmFtcyB9KTsKICAgICAgdGhpcy51c2VycyA9IGluZm8uZGF0YS5yZXA7CiAgICB9LAogICAgYXN5bmMgY2hhbmdlclZhbGlkZSh1c2VyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdXNlci52YWxpZGUgPSAhdXNlci52YWxpZGU7CiAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5wdXQoYC91c2VyL3ZhbGlkZWAsIHVzZXIpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZGVsZXRlVXNlcih1c2VyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5wb3N0KGAvdXNlci9kZWxldGVgLCB1c2VyKTsKICAgICAgICB0aGlzLmdldEluZm9Vc2VyKCk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB0cmkodmFsZXVyKSB7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LAogICAgICAgIGxpbWl0OiAwLAogICAgICAgIHNvcnRUeXBlOiB2YWxldXIsCiAgICAgICAgc29ydFZhbHVlOiB0aGlzLnZhbGlkZQogICAgICB9OwogICAgICBjb25zdCBpbmZvID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYC91c2VyL3VzZXJzL3BhcmFtc2AsIHsgcGFyYW1zIH0pOwogICAgICB0aGlzLnVzZXJzID0gaW5mby5kYXRhLnJlcDsKICAgIH0sCiAgICB2YWxpZGVGdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy52YWxpZGUgPT09IDEpIHsKICAgICAgICAgICAgdGhpcy52YWxpZGUgPSAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnZhbGlkZSA9IDE7CiAgICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0SW5mb1VzZXIoKTsKICB9LAp9Owo="},{"version":3,"sources":["AdminUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminUsers.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"app\">\n    <Header />\n    <div id=\"body\">\n      <div class=\"head\">\n        <table>\n          <tr>\n            <th @click=\"valideFunction();tri('valide')\">Validé</th>\n            <th @click=\"valideFunction();tri('nom')\">Nom</th>\n            <th @click=\"valideFunction();tri('prenom')\">Prénom</th>\n            <th @click=\"valideFunction();tri('email')\">Email</th>\n            <th @click=\"valideFunction();tri('statut')\">Statut</th>\n            <th>Supprimer</th>\n          </tr>\n        </table>\n      </div>\n      <div class=\"body\">\n        <table>\n          <tr v-for=\"user in users\" :key=\"user.email\">\n            <td v-if=\"user.valide\" @click=\"changerValide(user)\" class=\"pointer\">\n              <font-awesome-icon icon=\"check\" />\n            </td>\n            <td v-if=\"!user.valide\" @click=\"changerValide(user)\">\n              <font-awesome-icon icon=\"times\" />\n            </td>\n            <td>{{ user.nom }}</td>\n            <td>{{ user.prenom }}</td>\n            <td>{{ user.email }}</td>\n            <td>{{ user.statut }}</td>\n            <td @click=\"deleteUser(user)\" class=\"pointer\">\n              <font-awesome-icon icon=\"times\" />\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Header from \"../components/header\";\n\nexport default {\n  data() {\n    return {\n      users: {},\n      offset: 0,\n      valide: 1,\n      nom: 1,\n    };\n  },\n  components: {\n    Header,\n  },\n  methods: {\n    async getInfoUser() {\n      const params = {\n        offset: this.offset,\n        limit: 50,\n        sort: \"\",\n      };\n      const info = await this.$http.get(`/user/users/params`, { params });\n      this.users = info.data.rep;\n    },\n    async changerValide(user) {\n      try {\n        user.valide = !user.valide;\n        await this.$http.put(`/user/valide`, user);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async deleteUser(user) {\n      try {\n        await this.$http.post(`/user/delete`, user);\n        this.getInfoUser();\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async tri(valeur) {\n      const params = {\n        offset: this.offset,\n        limit: 0,\n        sortType: valeur,\n        sortValue: this.valide\n      };\n      const info = await this.$http.get(`/user/users/params`, { params });\n      this.users = info.data.rep;\n    },\n    valideFunction() {\n        if (this.valide === 1) {\n            this.valide = -1;\n        } else {\n            this.valide = 1;\n        }\n    }\n  },\n  created() {\n    this.getInfoUser();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n$color: #26f191;\n#app {\n  #body {\n    margin: 7vh 0 0 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 80vh;\n    div table {\n      width: 90vw;\n      table-layout: fixed;\n      border: 1px solid $color;\n    }\n    .head {\n      background-color: #26f191a0;\n      tr {\n        th {\n          padding: 1vh 1vw;\n          text-align: left;\n          font-weight: 700;\n          font-size: 1.2vw;\n          cursor: pointer;\n        }\n      }\n    }\n    .body {\n      height: 70vh;\n      overflow-y: scroll;\n      overflow-x: hidden;\n      width: 89.9vw;\n      border: none;\n      tr {\n        td {\n          padding: 1vh 1vw;\n          text-align: left;\n          vertical-align: middle;\n          font-weight: 300;\n          font-size: 1.2vw;\n          border-bottom: 3px solid gray;\n        }\n        .pointer {\n            cursor: pointer\n          }\n      }\n    }\n  }\n}\n::-webkit-scrollbar {\n  width: 6px;\n}\n::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 1vw rgba(0, 0, 0, 0.3);\n}\n::-webkit-scrollbar-thumb {\n  -webkit-box-shadow: inset 0 0 1vw #26f191c5;\n}\n</style>"]}]}