{"remainingRequest":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\src\\views\\AnnuaireMembres.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\src\\views\\AnnuaireMembres.vue","mtime":1616957413315},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612791996876},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1612791996535},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612791996876},{"path":"C:\\Users\\clemf\\Documents\\Prog\\Projet\\EnCours\\ProjetS3\\ProjetS3\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1612792006689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvaGVhZGVyIjsNCmltcG9ydCBDYXJkQW5udWFpcmUgZnJvbSAiLi4vY29tcG9uZW50cy9DYXJkVXNlciI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIEhlYWRlciwNCiAgICBDYXJkQW5udWFpcmUsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHV0aWxpc2F0ZXVyQWZmaWNoZTogW10sDQogICAgICBsaXN0ZUVudGllcmVVc2VyczogW10sDQogICAgICBsaXN0ZUVudGllcmVVc2Vyc1RyaWVyOiBbXSwNCiAgICAgIG5iUGFnZTogMCwNCiAgICAgIGJvdXRvblN1aXZhbnQ6IHRydWUsDQogICAgICBib3V0b25QcmVjZWRlbnQ6IGZhbHNlLA0KICAgICAgdHJpQWxwaGE6IHRydWUsDQogICAgICBuYW1lOiAiIiwNCiAgICAgIHByZW5vbTogIiIsDQogICAgICByZWNoZXJjaGU6IDEsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKg0KICAgICAqIEByZXR1cm5zIExhIGxpc3RlIGRlIHRvdXMgbGVzIHV0aWxpc2F0ZXVycyBkZXB1aXMgbGEgQkREDQogICAgICovDQogICAgYXN5bmMgZ2V0QWxsVXNlcnMoKSB7DQogICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYC91c2VyL3VzZXJzYCk7DQogICAgICBkYXRhLmRhdGEudXNlcnMuZm9yRWFjaCgodXNlcikgPT4gew0KICAgICAgICB0aGlzLmxpc3RlRW50aWVyZVVzZXJzLnB1c2godXNlcik7DQogICAgICB9KTsNCiAgICAgIHRoaXMuYWxwaGFiZXRpcXVlKCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBAcmV0dXJucyBkJ2FmZmljaGVyIGxlcyAxMCBwcm9jaGFpbnMgdXRpbGlzYXRldXJzIHF1aSBzdWl2ZW50IGNldXggYWZmaWNow6lzDQogICAgICovDQogICAgYXN5bmMgZ2V0TW9yZVVzZXJzKCkgew0KICAgICAgdGhpcy5uYlBhZ2UrKzsNCiAgICAgIHRoaXMudXRpbGlzYXRldXJBZmZpY2hlID0gdGhpcy5saXN0ZUVudGllcmVVc2Vyc1RyaWVyLnNsaWNlKA0KICAgICAgICAxMCAqIHRoaXMubmJQYWdlLA0KICAgICAgICAxMCAqIHRoaXMubmJQYWdlICsgMTANCiAgICAgICk7DQogICAgICBpZiAodGhpcy5saXN0ZUVudGllcmVVc2Vyc1RyaWVyLmxlbmd0aCAtICh0aGlzLm5iUGFnZSArIDEpICogMTAgPCAxKSB7DQogICAgICAgIHRoaXMuYm91dG9uU3VpdmFudCA9IGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy5ib3V0b25QcmVjZWRlbnQgPSB0cnVlOw0KICAgIH0sDQogICAgLyoqDQogICAgICogQHJldHVybnMgbGVzIDEwIHByw6ljw6lkZW50cyB1dGlsaXNhdGV1cnMgcXVpIHByw6ljw6hkZW50IGNldXggYWZmaWNow6lzDQogICAgICovDQogICAgYXN5bmMgZ2V0TGVzc1VzZXJzKCkgew0KICAgICAgdGhpcy5uYlBhZ2UtLTsNCiAgICAgIHRoaXMudXRpbGlzYXRldXJBZmZpY2hlID0gdGhpcy5saXN0ZUVudGllcmVVc2Vyc1RyaWVyLnNsaWNlKA0KICAgICAgICAxMCAqIHRoaXMubmJQYWdlLA0KICAgICAgICAxMCAqIHRoaXMubmJQYWdlICsgMTANCiAgICAgICk7DQogICAgICBpZiAodGhpcy5uYlBhZ2UgPT09IDApIHsNCiAgICAgICAgdGhpcy5ib3V0b25QcmVjZWRlbnQgPSBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMuYm91dG9uU3VpdmFudCA9IHRydWU7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBAcmV0dXJucyBsYSBsaXN0ZSB0cmnDqSBhbHBoYWLDqXRpcXVlbWVudCBkZXMgdXRpbHNpYXRldXJzDQogICAgICovDQogICAgYXN5bmMgYWxwaGFiZXRpcXVlKCkgew0KICAgICAgdGhpcy5saXN0ZUVudGllcmVVc2Vyc1RyaWVyID0gdGhpcy5saXN0ZUVudGllcmVVc2Vycy5zb3J0KChhLCBiKSA9Pg0KICAgICAgICBhLm5vbSA+IGIubm9tID8gMSA6IC0xDQogICAgICApOw0KICAgICAgdGhpcy51dGlsaXNhdGV1ckFmZmljaGUgPSB0aGlzLmxpc3RlRW50aWVyZVVzZXJzVHJpZXIuc2xpY2UoMCwgMTApOw0KICAgICAgdGhpcy5ib3V0b25TdWl2YW50ID0gdHJ1ZTsNCiAgICAgIHRoaXMuYm91dG9uUHJlY2VkZW50ID0gZmFsc2U7DQogICAgICB0aGlzLnRyaUFscGhhID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIEByZXR1cm5zIGxhIGxpc3RlIHRyacOpIGFudGktYWxwaGFiw6l0aXF1ZW1lbnQgZGVzIHV0aWxpc2F0ZXVycw0KICAgICAqLw0KICAgIGFzeW5jIGFudGlBbHBoYWJldGlxdWUoKSB7DQogICAgICB0aGlzLmxpc3RlRW50aWVyZVVzZXJzVHJpZXIgPSB0aGlzLmxpc3RlRW50aWVyZVVzZXJzLnNvcnQoKGEsIGIpID0+DQogICAgICAgIGEubm9tIDwgYi5ub20gPyAxIDogLTENCiAgICAgICk7DQogICAgICB0aGlzLnV0aWxpc2F0ZXVyQWZmaWNoZSA9IHRoaXMubGlzdGVFbnRpZXJlVXNlcnNUcmllci5zbGljZSgwLCAxMCk7DQogICAgICB0aGlzLmJvdXRvblN1aXZhbnQgPSB0cnVlOw0KICAgICAgdGhpcy5ib3V0b25QcmVjZWRlbnQgPSBmYWxzZTsNCiAgICAgIHRoaXMudHJpQWxwaGEgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgYXN5bmMgc2VhcmNoTmFtZSgpIHsNCiAgICAgIGlmICh0aGlzLm5hbWUubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgdGFiVXNlck5hbWUgPSBbXTsNCiAgICAgICAgdGhpcy5saXN0ZUVudGllcmVVc2Vycy5mb3JFYWNoKChlbGVtZW50KSA9PiB7DQogICAgICAgICAgaWYgKGVsZW1lbnQubm9tLnNlYXJjaCh0aGlzLm5hbWUpICE9IC0xKSB7DQogICAgICAgICAgICB0YWJVc2VyTmFtZS5wdXNoKGVsZW1lbnQpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMudXNlcnMgPSB0YWJVc2VyTmFtZTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0QWxsVXNlcnMoKTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBmaWx0ZXJlZExpc3QoKSB7DQogICAgICByZXR1cm4gdGhpcy5saXN0ZUVudGllcmVVc2Vycy5maWx0ZXIoKHVzZXIpID0+IHsNCiAgICAgICAgaWYgKHRoaXMucmVjaGVyY2hlID09PSAxKSB7DQogICAgICAgICAgcmV0dXJuIHVzZXIubm9tLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5uYW1lLnRvTG93ZXJDYXNlKCkpOw0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVjaGVyY2hlID09PSAyKSB7DQogICAgICAgICAgcmV0dXJuIHVzZXIucHJlbm9tLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5uYW1lLnRvTG93ZXJDYXNlKCkpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["AnnuaireMembres.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AnnuaireMembres.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <Header />\r\n    <div id=\"recherche\">\r\n      <div class=\"title\">\r\n        <p>Annuaire</p>\r\n        <div class=\"line\"></div>\r\n      </div>\r\n      <div id=\"tri\">\r\n        <p>Tri :</p>\r\n        <div class=\"input\">\r\n          <input type=\"radio\" id=\"alpha\" name=\"tri\" @change=\"alphabetique\" />\r\n          <label for=\"alpha\" class=\"radio\" :class=\"{ checked: triAlpha }\">Alphabétique</label\r\n          >\r\n        </div>\r\n        <div class=\"input\">\r\n          <input type=\"radio\" id=\"anti_alpha\" name=\"tri\" @change=\"antiAlphabetique\" />\r\n          <label for=\"anti_alpha\" class=\"radio\" :class=\"{ checked: !triAlpha }\">Anti-alphabétique</label\r\n          >\r\n        </div>\r\n      </div>\r\n      <div id=\"recherche_par_nom_et_prenom\">\r\n        <p>Recherche :</p>\r\n        <input type=\"text\" placeholder=\"Nom\" v-model=\"name\" />\r\n\r\n        <div class=\"input\" @click=\"recherche = 1\">\r\n          <input type=\"radio\" name=\"choixRechercheNom\" />\r\n          <label\r\n            for=\"choixRechercheNom\"\r\n            class=\"radio\"\r\n            :class=\"{ checked: recherche === 1 }\"\r\n            >Nom</label\r\n          >\r\n        </div>\r\n        <div class=\"input\" @click=\"recherche = 2\">\r\n          <input type=\"radio\" name=\"choixRecherchePrenom\" />\r\n          <label\r\n            for=\"choixRecherchePrenom\"\r\n            class=\"radio\"\r\n            :class=\"{ checked: recherche === 2 }\"\r\n            >Prénom</label\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"cards\">\r\n      <CardAnnuaire\r\n        v-for=\"user in filteredList.slice(10 * nbPage, 10 * nbPage + 10)\"\r\n        :nomUtilisateur=\"user.nomUtilisateur\"\r\n        :key=\"user.nomUtilisateur\"\r\n        :nom=\"user.nom\"\r\n        :prenom=\"user.prenom\"\r\n        :statut=\"user.statut\"\r\n        :image=\"user.imgProfil\"\r\n        class=\"card\"\r\n      />\r\n    </div>\r\n    <div id=\"button\">\r\n      <button @click=\"getLessUsers\" v-if=\"boutonPrecedent\">Précédente</button>\r\n      <button\r\n        @click=\"getMoreUsers\"\r\n        v-if=\"boutonSuivant && filteredList.length > 10\"\r\n      >\r\n        Suivante\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from \"../components/header\";\r\nimport CardAnnuaire from \"../components/CardUser\";\r\n\r\nexport default {\r\n  components: {\r\n    Header,\r\n    CardAnnuaire,\r\n  },\r\n  data() {\r\n    return {\r\n      utilisateurAffiche: [],\r\n      listeEntiereUsers: [],\r\n      listeEntiereUsersTrier: [],\r\n      nbPage: 0,\r\n      boutonSuivant: true,\r\n      boutonPrecedent: false,\r\n      triAlpha: true,\r\n      name: \"\",\r\n      prenom: \"\",\r\n      recherche: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * @returns La liste de tous les utilisateurs depuis la BDD\r\n     */\r\n    async getAllUsers() {\r\n      const data = await this.$http.get(`/user/users`);\r\n      data.data.users.forEach((user) => {\r\n        this.listeEntiereUsers.push(user);\r\n      });\r\n      this.alphabetique();\r\n    },\r\n    /**\r\n     * @returns d'afficher les 10 prochains utilisateurs qui suivent ceux affichés\r\n     */\r\n    async getMoreUsers() {\r\n      this.nbPage++;\r\n      this.utilisateurAffiche = this.listeEntiereUsersTrier.slice(\r\n        10 * this.nbPage,\r\n        10 * this.nbPage + 10\r\n      );\r\n      if (this.listeEntiereUsersTrier.length - (this.nbPage + 1) * 10 < 1) {\r\n        this.boutonSuivant = false;\r\n      }\r\n      this.boutonPrecedent = true;\r\n    },\r\n    /**\r\n     * @returns les 10 précédents utilisateurs qui précèdent ceux affichés\r\n     */\r\n    async getLessUsers() {\r\n      this.nbPage--;\r\n      this.utilisateurAffiche = this.listeEntiereUsersTrier.slice(\r\n        10 * this.nbPage,\r\n        10 * this.nbPage + 10\r\n      );\r\n      if (this.nbPage === 0) {\r\n        this.boutonPrecedent = false;\r\n      }\r\n      this.boutonSuivant = true;\r\n    },\r\n    /**\r\n     * @returns la liste trié alphabétiquement des utilsiateurs\r\n     */\r\n    async alphabetique() {\r\n      this.listeEntiereUsersTrier = this.listeEntiereUsers.sort((a, b) =>\r\n        a.nom > b.nom ? 1 : -1\r\n      );\r\n      this.utilisateurAffiche = this.listeEntiereUsersTrier.slice(0, 10);\r\n      this.boutonSuivant = true;\r\n      this.boutonPrecedent = false;\r\n      this.triAlpha = true;\r\n    },\r\n    /**\r\n     * @returns la liste trié anti-alphabétiquement des utilisateurs\r\n     */\r\n    async antiAlphabetique() {\r\n      this.listeEntiereUsersTrier = this.listeEntiereUsers.sort((a, b) =>\r\n        a.nom < b.nom ? 1 : -1\r\n      );\r\n      this.utilisateurAffiche = this.listeEntiereUsersTrier.slice(0, 10);\r\n      this.boutonSuivant = true;\r\n      this.boutonPrecedent = false;\r\n      this.triAlpha = false;\r\n    },\r\n\r\n    async searchName() {\r\n      if (this.name.length > 0) {\r\n        let tabUserName = [];\r\n        this.listeEntiereUsers.forEach((element) => {\r\n          if (element.nom.search(this.name) != -1) {\r\n            tabUserName.push(element);\r\n          }\r\n        });\r\n        this.users = tabUserName;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getAllUsers();\r\n  },\r\n  computed: {\r\n    filteredList() {\r\n      return this.listeEntiereUsers.filter((user) => {\r\n        if (this.recherche === 1) {\r\n          return user.nom.toLowerCase().includes(this.name.toLowerCase());\r\n        } else if (this.recherche === 2) {\r\n          return user.prenom.toLowerCase().includes(this.name.toLowerCase());\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/Variable.scss\";\r\n#app {\r\n  padding-bottom: 2em;\r\n  user-select: none;\r\n  #recherche {\r\n    height: 40vh;\r\n    width: 500px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-content: center;\r\n    font-weight: 700;\r\n    .title {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      margin: 0 0 50px;\r\n      p {\r\n        font-size: 40px;\r\n      }\r\n      .line {\r\n        width: 200px;\r\n      }\r\n    }\r\n    #tri {\r\n      display: flex;\r\n      justify-content: center;\r\n      .input {\r\n        margin: 0 2em;\r\n      }\r\n    }\r\n    #recherche_par_nom_et_prenom {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: center;\r\n      align-items: center;\r\n      margin-top: 20px;\r\n      vertical-align: center;\r\n      p {\r\n        margin: 0;\r\n      }\r\n      .input {\r\n        margin: 0 10px;\r\n        label {\r\n          margin: auto 0;\r\n        }\r\n      }\r\n      input {\r\n        padding: 3px 6px;\r\n        outline: none;\r\n        border: 2px $color solid;\r\n        border-radius: 5px;\r\n        margin: 0 15px;\r\n      }\r\n    }\r\n    button {\r\n      width: 150px;\r\n      margin: 20px auto 0;\r\n    }\r\n    input[type=\"radio\"] {\r\n      display: none;\r\n    }\r\n    label {\r\n      border: 2px $color solid;\r\n      border-radius: 5px;\r\n      padding: 3px 6px;\r\n      cursor: pointer;\r\n      font-weight: 700;\r\n      color: $color3;\r\n      &:hover,\r\n      .checked {\r\n        background-color: $color;\r\n        color: $color2;\r\n      }\r\n    }\r\n  }\r\n  #cards {\r\n    width: 80vw;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n    .card {\r\n      margin: 1vh 0;\r\n    }\r\n  }\r\n  #button {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    margin: 2em 0;\r\n    button {\r\n      background-color: $color;\r\n      color: white;\r\n      border: none;\r\n      border-radius: 5px;\r\n      padding: 0.75em 1em;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n}\r\n// Classe pour actualiser l'état des boutons de tri\r\n.checked {\r\n  background-color: $color;\r\n  color: $color2 !important ;\r\n}\r\n</style>"]}]}