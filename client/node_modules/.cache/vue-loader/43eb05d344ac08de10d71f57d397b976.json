{"remainingRequest":"C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\src\\components\\signal_admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\src\\components\\signal_admin.vue","mtime":1616689345680},{"path":"C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612117585820},{"path":"C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1612117580510},{"path":"C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612117585820},{"path":"C:\\Users\\thoma\\OneDrive\\Bureau\\iut\\projet_S3\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1612117788453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHMgOiBbJ2NvbnRlbnQnLCdfaWQnLCdtb3RpZicsJ2lkU2lnbmFsJ10sDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcG9zdEluZm8gOiB7fSwNCiAgICAgICAgICAgIG5vbV9mb3J1bSA6ICcnLA0KICAgICAgICAgICAgbm9tX3N1amV0IDogJycNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kcyA6IHsNCiAgICAgICAgYXN5bmMgcmVkaXJlY3RTdWpldCgpew0KICAgICAgICAgICAgIGNvbnN0IGlkRm9ydW0gPSBhd2FpdCB0aGlzLmdldElkRm9ydW0oKQ0KICAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgIF9pZCA6IGlkRm9ydW0NCiAgICAgICAgICAgICB9DQogICAgICAgICAgICAgbGV0IHJlcF9mb3J1bSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvZm9ydW0vZm9ydW1JRCcse3BhcmFtc30pDQogICAgICAgICAgICAgbGV0IG5vbV9mb3J1bSA9IHJlcF9mb3J1bS5kYXRhLmZvcnVtLnRpdHJlRm9ydW0NCiAgICAgICAgICAgICB0aGlzLm5vbV9mb3J1bSA9IG5vbV9mb3J1bQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBnZXRJZEZvcnVtKCl7DQogICAgICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgIGlkU3VqZXQgOiB0aGlzLnBvc3RJbmZvLnN1amV0UmVmDQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgcmVwX3N1amV0ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy9mb3J1bS9nZXRTdWpldCcse3BhcmFtc30pDQogICAgICAgICAgICB0aGlzLm5vbV9zdWpldCA9IHJlcF9zdWpldC5kYXRhLnN1amV0LnRpdHJlU3VqZXQNCiAgICAgICAgICAgIHJldHVybiByZXBfc3VqZXQuZGF0YS5zdWpldC5mb3J1bVN1amV0DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGRlbGV0ZVNpZ25hbCgpew0KICAgICAgICAgICAgIGF3YWl0IHRoaXMuJGh0dHAucG9zdCgnL2ZvcnVtL2RlbGV0ZVNpZ25hbCcsIHtpZCA6IHRoaXMuaWRTaWduYWx9KQ0KICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCkNCiAgICAgICAgfSwNCg0KICAgICAgICBhc3luYyB2YWxpZGVTaWduYWwoKXsNCiAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgIGlkIDogdGhpcy5faWQsDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5wdXQoJy9mb3J1bS9kZWxldGVQb3N0JyxwYXJhbXMpOw0KICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2lnbmFsKCkNCiAgICAgICAgfSwNCg0KICAgICAgICBhc3luYyBHZXRQb3N0SW5mbygpew0KICAgICAgICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgICAgICAgICBfaWQgOiB0aGlzLl9pZA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IHJlcCA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvZm9ydW0vZ2V0T25lUG9zdCcse3BhcmFtc30pDQogICAgICAgICAgICB0aGlzLnBvc3RJbmZvID0gcmVwLmRhdGENCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGFzeW5jIG1vdW50ZWQoKXsNCiAgICAgICAgICAgYXdhaXQgdGhpcy5HZXRQb3N0SW5mbygpDQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9pZCkNCiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RTdWpldCgpDQogICAgICAgIH0NCn0NCg=="},{"version":3,"sources":["signal_admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signal_admin.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"signal_admin\">\r\n      <div class=\"signal_container\">\r\n           <h4 class=\"motif\"> <span>Motif : </span> {{this.motif}}</h4>\r\n      <p class=\"content\"> <span>Contenu :</span> {{this.content}}</p>\r\n      <p class=\"content\"> <span>Sujet :</span> {{this.nom_forum}} > {{this.nom_sujet}}</p>\r\n      <p class=\"content\" v-if=\"this.postInfo.reponse !== ''\"> <span>RÃ©ponse au post :</span> {{this.postInfo.reponse}}</p>\r\n      <p class=\"content\"> <span>Auteur :</span> {{this.postInfo.auteurCommentaire}}</p>\r\n      <p class=\"content\"> <span>Date :</span> {{this.postInfo.dateCommentaire}}</p>\r\n      </div>\r\n     \r\n        <div class=\"valider signal_btn\" @click=\"this.valideSignal\">Valider</div>\r\n      <div class=\"supprimer signal_btn\" @click=\"this.deleteSignal\">Supprimer</div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props : ['content','_id','motif','idSignal'],\r\n    data(){\r\n        return {\r\n            postInfo : {},\r\n            nom_forum : '',\r\n            nom_sujet : ''\r\n        }\r\n    },\r\n    methods : {\r\n        async redirectSujet(){\r\n             const idForum = await this.getIdForum()\r\n             let params = {\r\n                 _id : idForum\r\n             }\r\n             let rep_forum = await this.$http.get('/forum/forumID',{params})\r\n             let nom_forum = rep_forum.data.forum.titreForum\r\n             this.nom_forum = nom_forum\r\n        },\r\n        async getIdForum(){\r\n            let params = {\r\n                idSujet : this.postInfo.sujetRef\r\n            }\r\n            let rep_sujet = await this.$http.get('/forum/getSujet',{params})\r\n            this.nom_sujet = rep_sujet.data.sujet.titreSujet\r\n            return rep_sujet.data.sujet.forumSujet\r\n        },\r\n        async deleteSignal(){\r\n             await this.$http.post('/forum/deleteSignal', {id : this.idSignal})\r\n            document.location.reload()\r\n        },\r\n\r\n        async valideSignal(){\r\n              const params = {\r\n                id : this._id,\r\n                \r\n            }\r\n             await this.$http.put('/forum/deletePost',params);\r\n             this.deleteSignal()\r\n        },\r\n\r\n        async GetPostInfo(){\r\n            let params = {\r\n                _id : this._id\r\n            }\r\n            let rep = await this.$http.get('/forum/getOnePost',{params})\r\n            this.postInfo = rep.data\r\n        },\r\n    },\r\n    async mounted(){\r\n           await this.GetPostInfo()\r\n            console.log(this._id)\r\n            await this.redirectSujet()\r\n        }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .signal_container{\r\n        padding: 1em;\r\n        margin-bottom: 1em;\r\n        background: #eeeeee;\r\n\r\n        span{\r\n            font-weight: bold;\r\n        }\r\n    }\r\n    .signal_admin{\r\n        padding: 1em;\r\n        width: 80%;\r\n        margin: 1em auto;\r\n        border: solid 3px black;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    .signal_btn{\r\n        display: inline-block;\r\n        padding: 1em;\r\n        border-radius: 5px;\r\n        cursor: pointer;\r\n\r\n        &:hover{\r\n            opacity: 0.8;\r\n        }\r\n    }\r\n\r\n    .supprimer{\r\n        color: rgb(81, 81, 223);\r\n        border: 1.5px solid rgb(81, 81, 223);\r\n    }\r\n\r\n    .redirect{\r\n        margin-left: 1em;\r\n    }\r\n\r\n    .valider{\r\n        background: rgb(81, 81, 223);\r\n        border: 1.5px solid rgb(81, 81, 223);\r\n        color: white;\r\n        margin-right : 1em;\r\n    }\r\n</style>"]}]}